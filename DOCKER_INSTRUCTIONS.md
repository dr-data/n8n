# How to Run the Modified n8n with Docker

Since this version of n8n includes custom changes (the new AI-hub node), you need to build a custom Docker image from the source code.

## Prerequisites

Ensure you have the following installed on your machine:
-   **Node.js** (v22.16 or newer)
-   **pnpm** (v10.22 or newer)
-   **Docker**

## Building the Docker Image

The repository includes scripts to verify the build and create a Docker image.

1.  **Install Dependencies:**
    ```bash
    pnpm install
    ```

2.  **Build the Docker Image:**
    Run the following command to build the project and bundle it into a Docker image.
    ```bash
    pnpm build:docker
    ```

    This command will:
    -   Build all n8n packages.
    -   Create a Docker image tagged as `n8nio/n8n:local`.

## Running the Container

Once the build is complete, you can run the custom n8n image using Docker.

```bash
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -v ~/.n8n:/home/node/.n8n \
  n8nio/n8n:local
```

### Explanation of flags:
-   `-it`: Runs interactively (so you can see logs and stop it with Ctrl+C).
-   `--rm`: Removes the container when it stops.
-   `--name n8n`: Names the container "n8n".
-   `-p 5678:5678`: Maps port 5678 on your host to port 5678 in the container.
-   `-v ~/.n8n:/home/node/.n8n`: Mounts your local `~/.n8n` directory to persist data (workflows, credentials, etc.).
-   `n8nio/n8n:local`: The name of the image generated by `pnpm build:docker`.

After starting, you can access n8n at [http://localhost:5678](http://localhost:5678).
